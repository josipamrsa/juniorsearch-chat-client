{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useEffect, useRef, useState } from 'react';\nimport ioClient from 'socket.io-client';\nvar SOCKET_SERVER_URL = \"http://192.168.0.11:3001\";\n\nvar useWebSockets = function useWebSockets() {\n  var socketRef = useRef();\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      userId = _useState2[0],\n      setUserId = _useState2[1];\n\n  useEffect(function () {\n    socketRef.current = ioClient(SOCKET_SERVER_URL);\n    socketRef.current.on('connect', function () {\n      console.log(socketRef.current.id);\n      setUserId(socketRef.current.id);\n    });\n    return function () {\n      socketRef.current.disconnect();\n    };\n  }, []);\n};\n\nexport default useWebSockets;","map":{"version":3,"sources":["C:/Users/PMF/Desktop/diplomski/projekt/client/hooks/useWebSockets.js"],"names":["useEffect","useRef","useState","ioClient","SOCKET_SERVER_URL","useWebSockets","socketRef","userId","setUserId","current","on","console","log","id","disconnect"],"mappings":";AAAA,SAASA,SAAT,EAAoBC,MAApB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,OAAOC,QAAP,MAAqB,kBAArB;AAEA,IAAMC,iBAAiB,GAAG,0BAA1B;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AACxB,MAAMC,SAAS,GAAGL,MAAM,EAAxB;;AACA,kBAA4BC,QAAQ,EAApC;AAAA;AAAA,MAAOK,MAAP;AAAA,MAAeC,SAAf;;AAEAR,EAAAA,SAAS,CAAC,YAAM;AACZM,IAAAA,SAAS,CAACG,OAAV,GAAoBN,QAAQ,CAACC,iBAAD,CAA5B;AACAE,IAAAA,SAAS,CAACG,OAAV,CAAkBC,EAAlB,CAAqB,SAArB,EAAgC,YAAM;AAClCC,MAAAA,OAAO,CAACC,GAAR,CAAYN,SAAS,CAACG,OAAV,CAAkBI,EAA9B;AACAL,MAAAA,SAAS,CAACF,SAAS,CAACG,OAAV,CAAkBI,EAAnB,CAAT;AACH,KAHD;AAIA,WAAO,YAAM;AAAEP,MAAAA,SAAS,CAACG,OAAV,CAAkBK,UAAlB;AAAiC,KAAhD;AACH,GAPQ,EAON,EAPM,CAAT;AAQH,CAZD;;AAcA,eAAeT,aAAf","sourcesContent":["import { useEffect, useRef, useState } from 'react';\r\nimport ioClient from 'socket.io-client';\r\n\r\nconst SOCKET_SERVER_URL = \"http://192.168.0.11:3001\";\r\n\r\nconst useWebSockets = () => {\r\n    const socketRef = useRef();\r\n    const [userId, setUserId] = useState();\r\n\r\n    useEffect(() => {\r\n        socketRef.current = ioClient(SOCKET_SERVER_URL);\r\n        socketRef.current.on('connect', () => {\r\n            console.log(socketRef.current.id);\r\n            setUserId(socketRef.current.id);\r\n        });\r\n        return () => { socketRef.current.disconnect(); }\r\n    }, []);\r\n}\r\n\r\nexport default useWebSockets;"]},"metadata":{},"sourceType":"module"}